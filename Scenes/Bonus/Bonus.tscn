[gd_scene load_steps=18 format=4 uid="uid://bv786a45llsmj"]

[ext_resource type="TileSet" uid="uid://de4ecwe5la85f" path="res://TileMaps/TileMap.tres" id="1_2xhx1"]
[ext_resource type="PackedScene" uid="uid://cl2r7k5r6qay1" path="res://Scenes/Town/Shop.tscn" id="2_f5da6"]
[ext_resource type="PackedScene" uid="uid://xoklaqaa0ilf" path="res://Scenes/Town/rock_3.tscn" id="3_j0p5g"]
[ext_resource type="PackedScene" uid="uid://bk6uqs1huk1sl" path="res://Scenes/Items/heal_box.tscn" id="4_5dioy"]
[ext_resource type="PackedScene" uid="uid://cbrtfy4j081xb" path="res://Scenes/Player.tscn" id="5_yp7eq"]
[ext_resource type="PackedScene" uid="uid://vg6woi7a14ui" path="res://Scenes/camera.tscn" id="6_xn1vm"]
[ext_resource type="PackedScene" uid="uid://bseyp0xucui4e" path="res://Scenes/Town/rock_1.tscn" id="7_c6phv"]
[ext_resource type="PackedScene" uid="uid://cssa44hppqvt8" path="res://Scenes/Town/rock_4.tscn" id="8_j0p5g"]
[ext_resource type="PackedScene" uid="uid://bqm3q3wp4rjlw" path="res://Scenes/Town/rock_2.tscn" id="9_5dioy"]
[ext_resource type="Shader" uid="uid://bh675h6qp2rh" path="res://Shaders/darkness.gdshader" id="10_5dioy"]
[ext_resource type="PackedScene" uid="uid://c24mj370yrudd" path="res://Scenes/Game/gui.tscn" id="11_yp7eq"]
[ext_resource type="AudioStream" uid="uid://coqme5yv6057u" path="res://Audios/Music_Bonus.ogg" id="12_xn1vm"]
[ext_resource type="PackedScene" uid="uid://cma78puf7sont" path="res://Scenes/Map/whirlpool_exit_bonus.tscn" id="13_c6phv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yp7eq"]
shader = ExtResource("10_5dioy")
shader_parameter/darkness = 0.6

[sub_resource type="Animation" id="Animation_5dioy"]
resource_name = "Idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight2D:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.59, 1.3333334, 1.79),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(0.039215688, 0, 0.57254905, 0.9764706), Color(0.21867883, 0.011667183, 0.45708585, 0.9764706), Color(0, 0.16691732, 0.36240268, 0.9764706), Color(0.13116452, 3.2247604e-05, 0.49290633, 0.9764706)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("DirectionalLight2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.56666666, 1.3333334, 1.79),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.41, 0.4, 0.7, 0.4]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ScreenEffects/ColorRect:color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.55, 1.0333333, 1.7),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0.27450982), Color(0, 0, 0, 0.47843137), Color(3.85046e-06, 0, 0.85208386, 0.5137255), Color(3.7435052e-07, 0, 0.082841516, 0.29776692)]
}

[sub_resource type="Animation" id="Animation_yp7eq"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight2D:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.039215688, 0, 0.57254905, 0.9764706)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("DirectionalLight2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.41]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ScreenEffects/ColorRect:color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0.27450982)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xn1vm"]
_data = {
&"Idle": SubResource("Animation_5dioy"),
&"RESET": SubResource("Animation_yp7eq")
}

[node name="Bonus" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD6//v/AQABAAQAAAD6//z/AQADAAMAAAD6//3/AQADAAMAAAD6//7/AQADAAMAAAD6////AQADAAMAAAD6/wAAAQAEAAMAAAD6/wEAAQAEAAAAAAD6/wIAAQABAAIAAAD6/wMAAQAEAAAAAAD6/wQAAQAEAAAAAAD6/wUAAQAEAAAAAAD6/wYAAQAEAAAAAAD6/wcAAQAEAAAAAAD6/wgAAQADAAMAAAD6/wkAAQADAAMAAAD7//v/AQADAAMAAAD7//z/AQADAAMAAAD7//3/AQADAAMAAAD7//7/AQADAAMAAAD7////AQADAAMAAAD7/wAAAQAEAAMAAAD7/wEAAQAEAAAAAAD7/wIAAQACAAIAAAD7/wMAAQADAAIAAAD7/wQAAQAEAAAAAAD7/wUAAQAEAAAAAAD7/wYAAQAEAAAAAAD7/wcAAQAEAAAAAAD7/wgAAQADAAMAAAD7/wkAAQADAAMAAAD8//v/AQADAAMAAAD8//z/AQADAAMAAAD8//3/AQADAAMAAAD8//7/AQADAAMAAAD8////AQADAAMAAAD8/wAAAQAFAAMAAAD8/wEAAQAFAAQAAAD8/wIAAQAEAAAAAAD8/wMAAQABAAIAAAD8/wQAAQAEAAAAAAD8/wUAAQAEAAAAAAD8/wYAAQAEAAAAAAD8/wcAAQAEAAAAAAD8/wgAAQADAAMAAAD8/wkAAQADAAMAAAD9//v/AQADAAMAAAD9//z/AQADAAMAAAD9//3/AQADAAMAAAD9//7/AQADAAMAAAD9/wAAAQADAAMAAAD9/wEAAQAFAAMAAAD9/wIAAQAFAAQAAAD9/wMAAQABAAIAAAD9/wQAAQAEAAAAAAD9/wUAAQAEAAAAAAD9/wYAAQAEAAAAAAD9/wcAAQAEAAAAAAD9/wgAAQADAAMAAAD9/wkAAQADAAMAAAD+//v/AQADAAMAAAD+//z/AQADAAMAAAD+//3/AQADAAMAAAD+//7/AQADAAMAAAD+////AQADAAMAAAD+/wAAAQADAAMAAAD+/wEAAQADAAMAAAD+/wIAAQAEAAMAAAD+/wMAAQABAAIAAAD+/wQAAQAEAAAAAAD+/wUAAQAEAAAAAAD+/wYAAQAEAAAAAAD+/wcAAQAEAAAAAAD+/wgAAQADAAMAAAD+/wkAAQADAAMAAAD///v/AQADAAMAAAD///z/AQADAAMAAAD///3/AQADAAMAAAD///7/AQADAAMAAAD/////AQADAAMAAAD//wAAAQADAAMAAAD//wEAAQADAAMAAAD//wIAAQAEAAMAAAD//wMAAQABAAIAAAD//wQAAQACAAMAAAD//wUAAQAEAAAAAAD//wYAAQAEAAAAAAD//wcAAQAEAAAAAAD//wgAAQADAAMAAAD//wkAAQADAAMAAAAAAPv/AQADAAMAAAAAAPz/AQADAAMAAAAAAP3/AQADAAMAAAAAAP7/AQADAAMAAAAAAP//AQADAAMAAAAAAAAAAQADAAMAAAAAAAEAAQADAAMAAAAAAAIAAQAEAAMAAAAAAAMAAQABAAIAAAAAAAQAAQACAAMAAAAAAAUAAQAEAAAAAAAAAAYAAQAEAAAAAAAAAAcAAQAEAAAAAAAAAAgAAQADAAMAAAAAAAkAAQADAAMAAAABAPv/AQADAAMAAAABAPz/AQADAAMAAAABAP3/AQADAAMAAAABAP7/AQADAAMAAAABAP//AQADAAMAAAABAAAAAQADAAMAAAABAAEAAQAHAAQAAAABAAIAAQAGAAQAAAABAAMAAQABAAIAAAABAAQAAQACAAMAAAABAAUAAQAEAAAAAAABAAYAAQAEAAAAAAABAAcAAQAEAAAAAAABAAgAAQADAAMAAAABAAkAAQADAAMAAAACAPv/AQADAAMAAAACAPz/AQADAAMAAAACAP3/AQADAAMAAAACAP7/AQADAAMAAAACAP//AQADAAMAAAACAAAAAQADAAMAAAACAAEAAQAEAAMAAAACAAIAAQAEAAAAAAACAAMAAQABAAIAAAACAAQAAQACAAMAAAACAAUAAQAEAAAAAAACAAYAAQAEAAAAAAACAAcAAQAEAAAAAAACAAgAAQADAAMAAAACAAkAAQADAAMAAAADAPv/AQADAAMAAAADAPz/AQADAAMAAAADAP3/AQADAAMAAAADAP7/AQADAAMAAAADAP//AQADAAMAAAADAAAAAQADAAMAAAADAAEAAQAEAAMAAAADAAIAAQAAAAIAAAADAAMAAQAEAAIAAAADAAQAAQACAAMAAAADAAUAAQAEAAAAAAADAAYAAQAEAAAAAAADAAcAAQAEAAAAAAADAAgAAQADAAMAAAADAAkAAQADAAMAAAAEAPv/AQADAAMAAAAEAPz/AQADAAMAAAAEAP3/AQADAAMAAAAEAP7/AQADAAMAAAAEAP//AQADAAMAAAAEAAAAAQADAAMAAAAEAAEAAQAEAAMAAAAEAAIAAQABAAIAAAAEAAMAAQACAAMAAAAEAAQAAQACAAMAAAAEAAUAAQAEAAAAAAAEAAYAAQAEAAAAAAAEAAcAAQAEAAAAAAAEAAgAAQADAAMAAAAEAAkAAQADAAMAAAAFAPv/AQADAAMAAAAFAPz/AQADAAMAAAAFAP3/AQADAAMAAAAFAP7/AQADAAMAAAAFAP//AQADAAMAAAAFAAAAAQADAAMAAAAFAAEAAQAEAAMAAAAFAAIAAQABAAIAAAAFAAMAAQACAAMAAAAFAAQAAQAEAAAAAAAFAAUAAQAEAAAAAAAFAAYAAQAEAAAAAAAFAAcAAQAEAAAAAAAFAAgAAQADAAMAAAAFAAkAAQADAAMAAAAGAPv/AQADAAMAAAAGAPz/AQADAAMAAAAGAP3/AQAHAAQAAAAGAP7/AQAGAAMAAAAGAP//AQAGAAMAAAAGAAAAAQAGAAMAAAAGAAEAAQAGAAQAAAAGAAIAAQABAAIAAAAGAAMAAQACAAMAAAAGAAQAAQAEAAAAAAAGAAUAAQAEAAAAAAAGAAYAAQAEAAAAAAAGAAcAAQAEAAAAAAAGAAgAAQADAAMAAAAGAAkAAQADAAMAAAAHAPv/AQAGAAMAAAAHAPz/AQAGAAMAAAAHAP3/AQAGAAQAAAAHAP7/AQAEAAAAAAAHAP//AQAEAAAAAAAHAAAAAQAEAAAAAAAHAAEAAQAEAAAAAAAHAAIAAQABAAIAAAAHAAMAAQACAAMAAAAHAAQAAQAEAAAAAAAHAAUAAQAEAAAAAAAHAAYAAQAEAAAAAAAHAAcAAQAEAAAAAAAHAAgAAQADAAMAAAAHAAkAAQADAAMAAAAIAPv/AQAGAAEAAAAIAPz/AQAGAAEAAAAIAP3/AQAGAAEAAAAIAP7/AQAGAAEAAAAIAP//AQAGAAEAAAAIAAAAAQAGAAEAAAAIAAEAAQAGAAEAAAAIAAIAAQAEAAIAAAAIAAMAAQACAAMAAAAIAAQAAQAEAAAAAAAIAAUAAQAEAAAAAAAIAAYAAQAEAAAAAAAIAAcAAQAEAAAAAAAIAAgAAQADAAMAAAAIAAkAAQADAAMAAAAJAPv/AQACAAMAAAAJAPz/AQACAAMAAAAJAP3/AQACAAMAAAAJAP7/AQACAAMAAAAJAP//AQACAAMAAAAJAAAAAQACAAMAAAAJAAEAAQACAAMAAAAJAAIAAQACAAMAAAAJAAMAAQAEAAAAAAAJAAQAAQAEAAAAAAAJAAUAAQAEAAAAAAAJAAYAAQAEAAAAAAAJAAcAAQAEAAAAAAAJAAgAAQADAAMAAAAJAAkAAQADAAMAAAAKAPv/AQAEAAAAAAAKAPz/AQAEAAAAAAAKAP3/AQAEAAAAAAAKAP7/AQAEAAAAAAAKAP//AQAEAAAAAAAKAAAAAQAEAAAAAAAKAAEAAQAEAAAAAAAKAAIAAQAEAAAAAAAKAAMAAQAEAAAAAAAKAAQAAQAEAAAAAAAKAAUAAQAEAAAAAAAKAAYAAQAEAAAAAAAKAAcAAQAEAAAAAAAKAAgAAQADAAMAAAAKAAkAAQADAAMAAAD2//n/AQACAAMAAAD2//r/AQACAAMAAAD2//v/AQACAAMAAAD2//z/AQACAAMAAAD2//3/AQACAAMAAAD2//7/AQACAAMAAAD2////AQACAAMAAAD2/wAAAQACAAMAAAD2/wEAAQAEAAAAAAD2/wIAAQAEAAAAAAD2/wMAAQAEAAAAAAD2/wQAAQAEAAAAAAD2/wUAAQAEAAAAAAD2/wYAAQAEAAAAAAD2/wcAAQAEAAAAAAD2/wgAAQADAAMAAAD2/wkAAQADAAMAAAD3//n/AQACAAMAAAD3//r/AQAAAAMAAAD3//v/AQAHAAEAAAD3//z/AQAHAAEAAAD3//3/AQAHAAEAAAD3//7/AQAHAAEAAAD3////AQADAAIAAAD3/wAAAQACAAMAAAD3/wEAAQAEAAAAAAD3/wIAAQAEAAAAAAD3/wMAAQAEAAAAAAD3/wQAAQAEAAAAAAD3/wUAAQAEAAAAAAD3/wYAAQAEAAAAAAD3/wcAAQAEAAAAAAD3/wgAAQADAAMAAAD3/wkAAQADAAMAAAD4//n/AQAAAAMAAAD4//r/AQAHAAIAAAD4//v/AQAEAAAAAAD4//z/AQAEAAAAAAD4//3/AQAEAAAAAAD4//7/AQAEAAAAAAD4////AQACAAIAAAD4/wAAAQAHAAEAAAD4/wEAAQAHAAEAAAD4/wIAAQADAAIAAAD4/wMAAQAEAAAAAAD4/wQAAQAEAAAAAAD4/wUAAQAEAAAAAAD4/wYAAQAEAAAAAAD4/wcAAQAEAAAAAAD4/wgAAQADAAMAAAD4/wkAAQADAAMAAAD5//n/AQABAAMAAAD5//r/AQAEAAAAAAD5//v/AQAEAAQAAAD5//z/AQAHAAMAAAD5//3/AQAHAAMAAAD5//7/AQAHAAMAAAD5////AQAHAAMAAAD5/wAAAQAFAAQAAAD5/wEAAQAEAAAAAAD5/wIAAQABAAIAAAD5/wMAAQAEAAAAAAD5/wQAAQAEAAAAAAD5/wUAAQAEAAAAAAD5/wYAAQAEAAAAAAD5/wcAAQAEAAAAAAD5/wgAAQADAAMAAAD5/wkAAQADAAMAAAD6//n/AQAHAAIAAAD6//r/AQAEAAQAAAD7//n/AQAEAAAAAAD7//r/AQAAAAQAAAD8//n/AQAEAAAAAAD8//r/AQAAAAQAAAD9//n/AQAEAAQAAAD9//r/AQABAAQAAAD+//n/AQAAAAQAAAD+//r/AQADAAMAAAD///n/AQAAAAQAAAD///r/AQADAAMAAAAAAPn/AQAAAAQAAAAAAPr/AQADAAMAAAABAPn/AQADAAQAAAABAPr/AQACAAQAAAACAPn/AQAEAAAAAAACAPr/AQAAAAQAAAADAPn/AQAEAAAAAAADAPr/AQAAAAQAAAAEAPn/AQAEAAAAAAAEAPr/AQAAAAQAAAAFAPn/AQAEAAAAAAAFAPr/AQAAAAQAAAAGAPn/AQAEAAAAAAAGAPr/AQAAAAQAAAAHAPn/AQAEAAAAAAAHAPr/AQADAAQAAAAIAPn/AQAGAAEAAAAIAPr/AQAGAAEAAAAJAPn/AQACAAMAAAAJAPr/AQACAAMAAAAKAPn/AQAEAAAAAAAKAPr/AQAEAAAAAAD2//f/AQACAAMAAAD2//j/AQACAAMAAAD3//f/AQACAAMAAAD3//j/AQACAAMAAAD4//f/AQACAAMAAAD4//j/AQACAAMAAAD5//f/AQACAAMAAAD5//j/AQACAAMAAAD6//f/AQACAAMAAAD6//j/AQAAAAMAAAD7//f/AQACAAMAAAD7//j/AQABAAMAAAD8//f/AQACAAMAAAD8//j/AQABAAMAAAD9//f/AQACAAMAAAD9//j/AQABAAMAAAD+//f/AQACAAMAAAD+//j/AQABAAMAAAD///f/AQACAAMAAAD///j/AQABAAMAAAAAAPf/AQACAAMAAAAAAPj/AQABAAMAAAABAPf/AQACAAMAAAABAPj/AQABAAMAAAACAPf/AQACAAMAAAACAPj/AQABAAMAAAADAPf/AQACAAMAAAADAPj/AQABAAMAAAAEAPf/AQACAAMAAAAEAPj/AQABAAMAAAAFAPf/AQACAAMAAAAFAPj/AQABAAMAAAAGAPf/AQACAAMAAAAGAPj/AQABAAMAAAAHAPf/AQACAAMAAAAHAPj/AQABAAMAAAAIAPf/AQACAAMAAAAIAPj/AQAFAAIAAAAJAPf/AQACAAMAAAAJAPj/AQACAAMAAAAKAPf/AQAEAAAAAAAKAPj/AQAEAAAAAAD9////AQADAAMAAAAEAPb/AQAEAAAAAAAFAPb/AQAEAAAAAAAGAPb/AQAEAAAAAAD2//b/AQAEAAAAAAD3//b/AQAEAAAAAAD4//b/AQAEAAAAAAD5//b/AQAEAAAAAAD6//b/AQAEAAAAAAD7//b/AQAEAAAAAAD8//b/AQAEAAAAAAD9//b/AQAEAAAAAAD+//b/AQAEAAAAAAD///b/AQAEAAAAAAAAAPb/AQAEAAAAAAABAPb/AQAEAAAAAAACAPb/AQAEAAAAAAADAPb/AQAEAAAAAAAHAPb/AQAEAAAAAAAIAPb/AQAEAAAAAAAJAPb/AQAEAAAAAAAKAPb/AQAEAAAAAAA=")
tile_set = ExtResource("1_2xhx1")

[node name="TileMapLayer_Objects" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD+/wAAAgABAAAAAAAEAP//AgABAAAAAGD6//3/AgADAAAAAAACAAAAAgACAAAAAAD8//z/AgACAAAAAAAGAPz/AgAAAAAAAAAAAAEAAgAAAAAAAFABAP3/AgAAAAAAAAA=")
tile_set = ExtResource("1_2xhx1")

[node name="Whirlpool_exit" parent="." instance=ExtResource("13_c6phv")]
position = Vector2(-59, -197)

[node name="Camera2D" parent="." instance=ExtResource("6_xn1vm")]

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Shop" parent="YSort" instance=ExtResource("2_f5da6")]
position = Vector2(125, -113)

[node name="Rock3" parent="YSort" instance=ExtResource("3_j0p5g")]
position = Vector2(-150, -129)

[node name="Rock4" parent="YSort" instance=ExtResource("3_j0p5g")]
position = Vector2(179, 33)

[node name="HealBox" parent="YSort" instance=ExtResource("4_5dioy")]
position = Vector2(-110, -55)

[node name="Player" parent="YSort" instance=ExtResource("5_yp7eq")]

[node name="Rock1" parent="YSort" instance=ExtResource("7_c6phv")]
position = Vector2(-174, -2)

[node name="Rock4" parent="." instance=ExtResource("8_j0p5g")]
position = Vector2(-81, 19)

[node name="Rock5" parent="." instance=ExtResource("8_j0p5g")]
position = Vector2(219, -156)

[node name="Rock2" parent="." instance=ExtResource("9_5dioy")]
position = Vector2(181, -36)

[node name="ScreenEffects" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="ScreenEffects"]
material = SubResource("ShaderMaterial_yp7eq")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.27450982)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
color = Color(0.039215688, 0, 0.57254905, 0.9764706)
energy = 0.41

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_xn1vm")
}
autoplay = "Idle"

[node name="GUI" parent="." instance=ExtResource("11_yp7eq")]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_xn1vm")
autoplay = true
bus = &"Music"
