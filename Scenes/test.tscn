[gd_scene load_steps=19 format=4 uid="uid://d2syatk0fq20k"]

[ext_resource type="TileSet" uid="uid://de4ecwe5la85f" path="res://TileMaps/TileMap.tres" id="1_2cgwh"]
[ext_resource type="PackedScene" uid="uid://qxnsc00hb5ae" path="res://Scenes/Jellyfish.tscn" id="4_35xla"]
[ext_resource type="PackedScene" uid="uid://cbrtfy4j081xb" path="res://Scenes/Player.tscn" id="4_ys1qc"]
[ext_resource type="Script" uid="uid://x4iwo0mqmfe5" path="res://Scripts/water_current.gd" id="5_iaow0"]
[ext_resource type="Script" uid="uid://468bvteqf5nk" path="res://Scripts/camera.gd" id="6_i3aeo"]
[ext_resource type="Shader" uid="uid://bh675h6qp2rh" path="res://Shaders/darkness.gdshader" id="7_5wyu1"]
[ext_resource type="PackedScene" uid="uid://bk6uqs1huk1sl" path="res://Scenes/heal_box.tscn" id="7_iaow0"]
[ext_resource type="Texture2D" uid="uid://c8mwlsofbjnej" path="res://Sprites/heart.png" id="8_0c07c"]
[ext_resource type="PackedScene" uid="uid://bhu40cjsplpqc" path="res://Scenes/Squid.tscn" id="10_7nf3m"]
[ext_resource type="PackedScene" uid="uid://c5kbgxhjewjf8" path="res://Scenes/item_healing_fish.tscn" id="10_aees8"]
[ext_resource type="Script" uid="uid://c65jk0j0p761p" path="res://Scripts/hearts_ui.gd" id="10_qpfo2"]
[ext_resource type="Texture2D" uid="uid://cdfjrv25j88kg" path="res://Sprites/Pearl_16.png" id="11_yb21e"]
[ext_resource type="FontFile" uid="uid://bilc72o6ep70t" path="res://Fonts/PixelifySans-VariableFont_wght.ttf" id="12_aees8"]
[ext_resource type="Script" uid="uid://cjlaku3k7st51" path="res://Scripts/label.gd" id="13_mie3u"]
[ext_resource type="PackedScene" uid="uid://b1jvgfhyjbaam" path="res://Scenes/small_pearl.tscn" id="14_0qy5o"]
[ext_resource type="PackedScene" uid="uid://cc53wsts7tfmc" path="res://Scenes/big_pearl.tscn" id="15_0qy5o"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qpfo2"]
size = Vector2(62, 63)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0c07c"]
shader = ExtResource("7_5wyu1")
shader_parameter/darkness = 0.6

[node name="Node2D" type="Node2D"]

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
visible = false
color = Color(0.039215688, 0, 0.57254905, 0.9764706)
energy = 0.41

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD/////AgAAAAYAAAD//wAAAgAAAAYAAAD+/wAAAgAAAAYAAAD+////AgAAAAYAAAD9////AgAAAAYAAAD9/wAAAgAAAAYAAAD+/wEAAgAAAAYAAAAAAAAAAgAAAAYAAAAAAP//AgAAAAAAAAD//wEAAgAAAAYAAAAAAAEAAgAAAAYAAAABAAEAAgAAAAYAAAABAAAAAgAAAAYAAAABAP//AgAAAAYAAAAAAP7/AgAAAAYAAAD///7/AgAAAAYAAAD+//7/AgAAAAYAAAD9//7/AgAAAAYAAAD8////AgAAAAYAAAD8/wAAAgAAAAYAAAD9/wEAAgAAAAYAAAACAAEAAgAAAAYAAAACAAAAAgAAAAYAAAACAP//AgAAAAYAAAACAP7/AgAAAAYAAAABAP7/AgAAAAYAAAD8//7/AgAAAAYAAAD7////AgAAAAYAAAD7/wAAAgAAAAYAAAD9/wIAAgAAAAYAAAD+/wIAAgAAAAYAAAD//wIAAgAAAAYAAAAAAAIAAgAAAAYAAAABAAIAAgADAAAAAFACAAIAAgAAAAYAAAADAAIAAgAAAAYAAAADAAEAAgABAAAAAFADAAAAAgAAAAYAAAADAP//AgABAAYAAFADAP7/AgAAAAYAAAADAP3/AgAAAAYAAAACAP3/AgAAAAYAAAABAP3/AgAAAAYAAAAAAP3/AwAGAAYAAAD///3/AwAFAAYAAAD+//3/AwAFAAYAAAD9//3/AwAFAAYAAAD8//3/AwAFAAYAAAD7//7/AgAAAAYAAAD6////AgABAAAAAAD6/wAAAgAAAAYAAAD5//z/AgAAAAYAAAD5//3/AgAAAAYAAAD5//7/AgAAAAYAAAD5////AgAAAAYAAAD5/wAAAgAAAAYAAAD5/wEAAgAAAAYAAAD5/wIAAgACAAAAAGD5/wMAAgAAAAYAAAD5/wQAAgAAAAYAAAD6//z/AgAAAAYAAAD6//3/AgAAAAYAAAD6//7/AgAAAAYAAAD6/wQAAgAAAAYAAAD7//z/AwAEAAUAAAD7//3/AwAEAAYAAAD7/wQAAgAAAAYAAAD8//z/AwAFAAUAAAD8/wQAAgAAAAYAAAD9//z/BAABAAQAAAD9/wMAAgAAAAYAAAD9/wQAAgACAAAAAAD+//z/BAAFAAYAAAD+/wMAAgAAAAYAAAD+/wQAAgAAAAYAAAD///z/BAACAAYAAAD//wMAAgAAAAYAAAD//wQAAgAAAAYAAAAAAPz/AwADAAQAAAAAAAMAAgAAAAYAAAAAAAQAAgAAAAYAAAABAPz/AwAFAAYAAAABAAMAAgAAAAYAAAABAAQAAgAAAAYAAAACAPz/AwAFAAYAAAACAAMAAgACAAYAAAACAAQAAgAAAAEAAAADAPz/AwAFAAYAAAADAAMAAgAAAAYAAAADAAQAAgAEAAcAAAAEAP3/AwAEAAYAAAAEAP7/AgAAAAYAAAAEAP//AgAAAAYAAAAEAAAAAgAAAAYAAAAEAAEAAgAAAAYAAAAEAAIAAgAAAAYAAAAEAAMAAgAAAAYAAAAEAAQAAgAEAAcAAAAFAP3/AwACAAQAAAAFAP7/AwAEAAUAAAAFAP//AwAEAAUAAAAFAAAAAwAEAAUAAAAFAAEAAwAEAAYAAAAFAAIAAgAAAAEAAAAFAAMAAgAEAAUAAAAFAAQAAgAEAAIAAAABAAUAAgAEAAcAAAAAAPv/BAAFAAMAAAABAPv/BAAFAAMAAAACAPv/BAAFAAMAAAD4//3/AwAGAAUAAAD4//7/AwAGAAUAAAAAAAUAAgAEAAcAAAD//wUAAgAEAAcAAAD+/wUAAgAEAAcAAAAAAAYAAgAAAAcAAAD//wYAAgAAAAcAAAD+/wYAAgAAAAcAAAABAAYAAgAAAAcAAAACAAYAAgAAAAcAAAACAAcAAgAAAAcAAAABAAcAAgAAAAcAAAAAAAcAAgAAAAcAAAD//wcAAgAAAAcAAAACAAUAAgAEAAIAAAADAAUAAgAAAAcAAAAEAAUAAgAEAAAAABAEAAYAAgAAAAcAAAADAAYAAgAEAAAAAAADAAcAAgAAAAcAAAAEAAcAAgAAAAcAAAAFAAYAAgAAAAcAAAAFAAUAAgAAAAcAAAAGAAEAAwAFAAYAAAAHAAEAAwAFAAUAAAAGAAAAAwAFAAUAAAAGAP//AwAFAAUAAAAGAP7/AwAFAAUAAAAGAP3/BAABAAQAAAAGAPz/BAACAAQAAAAGAAIAAgAEAAcAAAADAPv/BAAFAAMAAAAEAPz/AwACAAQAAAAFAPz/BAABAAQAAAAFAPv/BAACAAQAAAADAPr/BAAFAAIAAAACAPr/BAAFAAIAAAABAPr/BAAFAAIAAAAEAPv/BAAFAAYAAAAEAPr/BAADAAMAAAAFAPr/BAADAAMAAAAGAPv/BAADAAMAAAAAAPr/BAADAAMAAAD///v/BAAEAAMAAAD9//v/BAABAAIAAAD+//v/BAADAAMAAAD7//v/AwACAAQAAAD6//v/AwAFAAYAAAD5//v/AwAFAAYAAAD4//v/AwADAAQAAAD4//z/AwAGAAUAAAD4////AwAGAAYAAAD3////AwAFAAYAAAD2////AwADAAQAAAD2/wAAAwAGAAUAAAD2/wEAAwAGAAUAAAD2/wIAAwAGAAUAAAD2/wMAAwADAAIAAAD3/wMAAwAGAAQAAAD3/wQAAwAGAAUAAAD3/wUAAwAGAAYAAAD3/wYAAgAEAAcAAAD4/wYAAgAEAAcAAAD5/wYAAgAEAAEAAAD5/wcAAgAAAAIAAAD6/wcAAgAEAAcAAAD7/wcAAgAEAAcAAAD8/wcAAgAEAAcAAAD9/wcAAgAEAAIAAAD9/wYAAgAEAAUAAAD9/wUAAgAAAAEAAAD+/wcAAgAAAAcAAAD+/wgAAgAAAAcAAAD9/wgAAgAAAAcAAAD8/wgAAgAAAAcAAAD7/wgAAgAAAAcAAAD6/wgAAgAAAAcAAAD5/wgAAgAAAAcAAAD4/wcAAgAAAAcAAAD4/wgAAgAAAAcAAAD3/wgAAgAAAAcAAAD3/wcAAgAAAAcAAAD//wgAAgAAAAcAAAAAAAgAAgAAAAcAAAABAAgAAgAAAAcAAAACAAgAAgAAAAcAAAADAAgAAgAAAAcAAAAEAAgAAgAAAAcAAAAFAAgAAgAAAAcAAAAFAAcAAgAAAAcAAAAGAAgAAgAAAAcAAAAHAAcAAgAAAAcAAAAHAAYAAgAAAAcAAAAHAAUAAgAAAAcAAAAHAAQAAgAAAAcAAAAGAAMAAgAAAAcAAAAGAAQAAgAAAAcAAAAGAAUAAgAAAAcAAAAGAAYAAgAAAAcAAAAGAAcAAgAAAAcAAAAHAAgAAgAAAAcAAAAHAAMAAgAAAAcAAAD8/wUAAgAAAAYAAAD8/wYAAgAAAAYAAAD7/wYAAgAAAAYAAAD6/wYAAgAAAAYAAAD6/wUAAgAAAAYAAAD7/wUAAgAAAAYAAAD5/wUAAgAAAAYAAAD4/wUAAgAAAAYAAAD4/wQAAgAAAAYAAAD4/wMAAgAAAAYAAAD4/wIAAgAAAAYAAAD3/wIAAgAAAAYAAAD3/wEAAgAAAAYAAAD3/wAAAgAAAAYAAAD4/wAAAgAAAAYAAAD4/wEAAgAAAAYAAAD2/wUAAwAFAAUAAAD2/wQAAwAFAAUAAAD1/wQAAwAFAAUAAAD1/wMAAwAFAAUAAAD1/wIAAwAFAAUAAAD1/wEAAwAFAAUAAAD1/wAAAwAFAAUAAAD1////BAADAAUAAAD1/wUAAwAFAAUAAAD1/wYAAwAFAAUAAAD2/wYAAwAFAAUAAAD1/wcAAgAAAAcAAAD2/wcAAgAAAAcAAAD2/wgAAgAAAAcAAAD1/wgAAgAAAAcAAAD8//v/AwAFAAUAAAD8//r/BAAFAAYAAAD9//r/BAACAAQAAAD+//r/AwAFAAUAAAD///r/AwAFAAUAAAD7//r/BAAFAAYAAAD6//r/BAAFAAYAAAD5//r/BAAFAAYAAAD4//r/BAAFAAYAAAD3//r/BAAFAAYAAAD3//v/AwAFAAUAAAD3//z/AwAFAAUAAAD3//3/AwAFAAUAAAD3//7/AwAFAAUAAAD2//7/AwAFAAUAAAD1//7/BAAGAAIAAAD1//3/BAAGAAIAAAD1//z/BAAGAAIAAAD1//v/BAADAAQAAAD1//r/AwAFAAUAAAD2//r/BAADAAQAAAD2//v/BAAGAAMAAAD2//z/AwAFAAUAAAD2//3/AwAFAAUAAAAGAPr/AwAFAAUAAAAHAPr/AwAFAAUAAAAHAPv/AwAFAAUAAAAHAPz/AwAFAAUAAAAHAP//AwAFAAUAAAAHAP7/AwAFAAUAAAAHAP3/BAAFAAYAAAAHAAAAAwAFAAUAAAAHAAIAAgAAAAcAAAD6/wEAAgAAAAYAAAD6/wIAAgAAAAYAAAD6/wMAAgAAAAYAAAD7/wMAAgAAAAYAAAD7/wIAAgAAAAYAAAD7/wEAAgAAAAYAAAD8/wIAAgAAAAYAAAD8/wMAAgAAAAYAAAD8/wEAAgAAAAYAAAA=")
tile_set = ExtResource("1_2cgwh")

[node name="Whirlpool" type="Node2D" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="Whirlpool"]
tile_map_data = PackedByteArray("AAD7/wUAAQAAAAUAAAD7/wYAAAAAAAcAAAD6/wYAAAAAAAcAAAD6/wUAAAAAAAcAAAD6/wQAAAAAAAcAAAD7/wQAAAAAAAcAAAD8/wQAAAAAAAcAAAD8/wUAAAAAAAcAAAD8/wYAAAAAAAcAAAA=")
tile_set = ExtResource("1_2cgwh")

[node name="TileMapLayer2" type="TileMapLayer" parent="Whirlpool"]
tile_map_data = PackedByteArray("AAD7/wUAAQAAAAUAAAD6/wYAAAAAAAIAAAD8/wYAAAAEAAIAAAD7/wQAAAAEAAUAAAD8/wQAAAAEAAMAAAD6/wQAAAAAAAMAAAD6/wUAAAAAAAQAAAD7/wYAAAAAAAUAAAD8/wUAAAAEAAQAAAA=")
tile_set = ExtResource("1_2cgwh")

[node name="WaterCurrent" type="Node2D" parent="."]
script = ExtResource("5_iaow0")

[node name="TileMapLayer_Water" type="TileMapLayer" parent="WaterCurrent"]
tile_map_data = PackedByteArray("AAD7/wIAAQAEAAYAAAD7/wEAAQAEAAYAAAD8/wEAAQAAAAcAAAD8/wIAAQAAAAcAAAD6/wIAAQAAAAYAAAD6/wMAAQAAAAYAAAD7/wMAAQAEAAYAAAD8/wMAAQAAAAcAAAD6/wEAAQAAAAYAAAA=")
tile_set = ExtResource("1_2cgwh")

[node name="TileMapLayer_Borders" type="TileMapLayer" parent="WaterCurrent"]
tile_map_data = PackedByteArray("AAD7/wEAAAAEAAUAAAD8/wEAAAAEAAMAAAD8/wIAAAAEAAQAAAD6/wIAAAAAAAQAAAD6/wMAAAAAAAIAAAD7/wMAAAAAAAUAAAD8/wMAAAAEAAIAAAD6/wEAAAAAAAMAAAA=")
tile_set = ExtResource("1_2cgwh")

[node name="Area2D" type="Area2D" parent="WaterCurrent"]
collision_mask = 7

[node name="CollisionShape2D" type="CollisionShape2D" parent="WaterCurrent/Area2D"]
position = Vector2(-144, 80.5)
shape = SubResource("RectangleShape2D_qpfo2")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2, 2)
script = ExtResource("6_i3aeo")

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Player" parent="YSort" instance=ExtResource("4_ys1qc")]
position = Vector2(-83, -9)

[node name="Jellyfish" parent="YSort" instance=ExtResource("4_35xla")]
position = Vector2(-45, -24)

[node name="Item_HealingFish" parent="YSort" groups=["PearlsUI"] instance=ExtResource("10_aees8")]

[node name="big_pearl" parent="YSort" instance=ExtResource("15_0qy5o")]
position = Vector2(72, -42)

[node name="small_pearl" parent="YSort" groups=["PearlsUI"] instance=ExtResource("14_0qy5o")]
light_mask = 4
visibility_layer = 4
position = Vector2(-129, -23)

[node name="HealBox" parent="YSort" instance=ExtResource("7_iaow0")]
position = Vector2(-188, -5)

[node name="Squid" parent="YSort" instance=ExtResource("10_7nf3m")]
position = Vector2(-25, 127)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.68403757, 0.78250575, 0.99999875, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_0c07c")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.27450982)

[node name="GUI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="GUI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HeartsUI" type="HBoxContainer" parent="GUI/Control" groups=["HeartsUI"]]
layout_direction = 2
layout_mode = 0
offset_left = 20.0
offset_right = 176.0
offset_bottom = 16.0
scale = Vector2(4, 4)
size_flags_horizontal = 3
theme_override_constants/separation = -1
script = ExtResource("10_qpfo2")
heart_texture = ExtResource("8_0c07c")

[node name="MarginContainer" type="MarginContainer" parent="GUI/Control"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -132.99994
offset_top = 1.0
offset_right = -59.0
offset_bottom = 34.0
grow_horizontal = 0
scale = Vector2(1.5, 1.5)

[node name="PearlsUI" type="HBoxContainer" parent="GUI/Control/MarginContainer"]
layout_mode = 2
alignment = 2

[node name="TextureRect" type="TextureRect" parent="GUI/Control/MarginContainer/PearlsUI"]
custom_minimum_size = Vector2(16, 16)
layout_mode = 2
texture = ExtResource("11_yb21e")
expand_mode = 2

[node name="Label" type="Label" parent="GUI/Control/MarginContainer/PearlsUI"]
layout_mode = 2
theme_override_fonts/font = ExtResource("12_aees8")
theme_override_font_sizes/font_size = 27
text = "x 0"
script = ExtResource("13_mie3u")

[connection signal="body_entered" from="WaterCurrent/Area2D" to="WaterCurrent" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="WaterCurrent/Area2D" to="WaterCurrent" method="_on_area_2d_body_exited"]
